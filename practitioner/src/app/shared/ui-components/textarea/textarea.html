<div class="input-wrapper">
  @if (label()) {
    <label class="input-label" [for]="name()">{{ label() }}</label>
  }

  <div
    class="input-container"
    [class.small]="size() === 'small'"
    [class.disabled]="disabled"
    [class.has-value]="!!value">
    @if (leftIcon()) {
      <span class="left-icon">
        <app-svg [src]="'svg/' + leftIcon() + '.svg'"></app-svg>
      </span>
    }

    <textarea
      #nativeInput
      [style.width]="width() ? width() : null"
      [value]="value"
      [name]="name()"
      [id]="name()"
      [rows]="rows()"
      [class.invalid]="invalid()"
      [disabled]="disabled"
      [class.small]="size() === 'small'"
      [class.has-value]="!!value"
      [class.has-left-icon]="leftIcon()"
      [class.has-right-icon]="rightIcon()"
      [placeholder]="placeholder()"
      (input)="onInput($event)"
      (blur)="onTouched()"></textarea>

    @if (rightIcon()) {
      <span class="right-icon">
        <app-svg [src]="'svg/' + rightIcon() + '.svg'"></app-svg>
      </span>
    }
  </div>

  @if (invalidMessage() && invalid()) {
    <app-error-message [message]="invalidMessage()"></app-error-message>
  }
</div>
